<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cha's Monkey Mania: CHAOS</title>
    <style>
        body { margin: 0; background: #222; font-family: 'Arial Black', sans-serif; overflow: hidden; touch-action: none; }
        canvas { display: block; background: #90EE90; margin: 0 auto; transition: background 0.3s; }
        
        /* UI Styles */
        #ui-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: rgba(0,0,0,0.7); color: white; text-align: center; z-index: 10;
        }
        #score-board { 
            position: absolute; top: 20px; width: 100%; text-align: center; 
            font-size: 28px; font-weight: bold; color: white; text-shadow: 3px 3px 0px #000;
            pointer-events: none; z-index: 5;
        }
        button { 
            padding: 20px 60px; font-size: 30px; cursor: pointer; border-radius: 15px; 
            border: 4px solid #FFF; background: #FF4500; color: white; font-weight: bold; 
            box-shadow: 0 8px #8B0000; transition: 0.2s;
        }
        button:active { transform: translateY(4px); box-shadow: 0 2px #8B0000; }
        
        /* Fever Effect */
        .fever-active { animation: rainbow 0.5s infinite; }
        @keyframes rainbow {
            0% { background: #ff0000; } 20% { background: #ffea00; }
            40% { background: #00ff00; } 60% { background: #00e5ff; }
            80% { background: #ff00ff; } 100% { background: #ff0000; }
        }
        .hidden { display: none !important; }
        #fever-msg { position: absolute; top: 40%; width: 100%; color: yellow; font-size: 50px; text-align: center; display: none; z-index: 20; text-shadow: 4px 4px 0px #000; }
    </style>
</head>
<body>

    <div id="fever-msg">FEVER MODE! üî•</div>

    <div id="score-board">
        SCORE: <span id="score">0</span><br>
        <small>BEST: <span id="high-score-display">0</span></small>
    </div>

    <div id="ui-layer">
        <h1 style="font-size: 45px; margin-bottom: 0;">CHA'S MONKEY</h1>
        <h2 style="color: #FFD700; margin-top: 0;">MANIA: CHAOS</h2>
        <button id="start-btn">GASKEUN!</button>
        <p style="margin-top: 20px;">üçå=1 | ‚ú®=10 | ‚è≥=Slow | ü§¢=Slow Debuff | üí£=DIE</p>
    </div>

    <canvas id="gameCanvas"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const uiLayer = document.getElementById("ui-layer");
        const startBtn = document.getElementById("start-btn");
        const feverMsg = document.getElementById("fever-msg");
        const scoreElement = document.getElementById("score");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let score = 0, highScore = localStorage.getItem("monkeyHS") || 0;
        let gameActive = false, isFever = false, slowMo = false;
        let items = [], monkey = { x: 0, y: 0, w: 90, h: 90 };
        let shakeTime = 0;

        document.getElementById("high-score-display").innerText = highScore;

        function startGame() {
            score = 0; items = []; gameActive = true; isFever = false;
            monkey.w = 90; monkey.h = 90;
            monkey.x = canvas.width / 2 - 45;
